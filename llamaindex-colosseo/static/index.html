<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>LlamaIndex Translation & Grammar Analysis</title>
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#00c6ff 0%,#0072ff 100%);min-height:100vh;padding:20px}.container{max-width:1200px;margin:0 auto;background:#fff;border-radius:15px;box-shadow:0 20px 40px rgba(0,0,0,.1);overflow:hidden}.header{background:linear-gradient(135deg,#00c6ff 0%,#0072ff 100%);color:#fff;padding:30px;text-align:center}.header h1{font-size:2.5em;margin-bottom:10px;font-weight:300}.content{padding:40px}.tabs{display:flex;margin-bottom:30px;border-bottom:2px solid #f0f0f0}.tab{padding:15px 30px;background:none;border:none;font-size:16px;cursor:pointer;color:#666;transition:.3s;border-bottom:3px solid transparent}.tab.active{color:#0072ff;border-bottom-color:#0072ff}.tab-content{display:none}.tab-content.active{display:block}.form-group{margin-bottom:20px}label{display:block;margin-bottom:8px;font-weight:600;color:#333}input,select,textarea{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;transition:border-color .3s}input:focus,select:focus,textarea:focus{outline:none;border-color:#0072ff}textarea{resize:vertical;min-height:120px}.btn{background:linear-gradient(135deg,#00c6ff 0%,#0072ff 100%);color:#fff;border:none;padding:12px 30px;border-radius:8px;font-size:16px;cursor:pointer;transition:.3s}.btn:hover{transform:translateY(-2px)}.result{margin-top:30px;padding:20px;background:#f8f9fa;border-radius:8px;border-left:4px solid #0072ff}.result-content{background:#fff;padding:15px;border-radius:5px;border:1px solid #e0e0e0;white-space:pre-wrap}.error{background:#eef;border-left-color:#00c6ff;color:#1b6ca8}.grammar-components{display:flex;flex-wrap:wrap;gap:10px;margin-top:15px}.grammar-component{padding:8px 12px;border-radius:20px;font-size:14px;font-weight:500;color:#fff}.multi-translations{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}.translation-card{background:#fff;padding:15px;border-radius:8px;border:1px solid #e0e0e0}.translation-card h4{color:#0072ff;margin-bottom:10px}@media(max-width:768px){.multi-translations{grid-template-columns:1fr}}</style></head>
<body>
<div class="container"><div class="header"><h1>LlamaIndex Translation & Grammar Analysis</h1></div><div class="content">
<div class="tabs"><button class="tab active" onclick="showTab('translation')">Translation</button><button class="tab" onclick="showTab('grammar')">Grammar Analysis</button><button class="tab" onclick="showTab('multi')">Multi-Language</button></div>
<div id="translation" class="tab-content active"><div class="form-group"><label for="sourceLang">Source Language</label><select id="sourceLang"><option value="en">English</option><option value="zh">Chinese</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="fr">French</option><option value="de">German</option><option value="es">Spanish</option><option value="it">Italian</option><option value="pt">Portuguese</option><option value="ru">Russian</option><option value="ar">Arabic</option></select></div><div class="form-group"><label for="targetLang">Target Language</label><select id="targetLang"><option value="zh">Chinese</option><option value="en">English</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="fr">French</option><option value="de">German</option><option value="es">Spanish</option><option value="it">Italian</option><option value="pt">Portuguese</option><option value="ru">Russian</option><option value="ar">Arabic</option></select></div><div class="form-group"><label for="textToTranslate">Text to Translate</label><textarea id="textToTranslate"></textarea></div><button class="btn" onclick="translateText()">Translate</button><div id="translationResult"></div></div>
<div id="grammar" class="tab-content"><div class="form-group"><label for="analysisLang">Language</label><select id="analysisLang"><option value="en">English</option><option value="zh">Chinese</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="fr">French</option><option value="de">German</option><option value="es">Spanish</option><option value="it">Italian</option><option value="pt">Portuguese</option><option value="ru">Russian</option><option value="ar">Arabic</option></select></div><div class="form-group"><label for="textToAnalyze">Text to Analyze</label><textarea id="textToAnalyze"></textarea></div><button class="btn" onclick="analyzeGrammar()">Analyze Grammar</button><div id="analysisResult"></div></div>
<div id="multi" class="tab-content"><div class="form-group"><label for="multiSourceLang">Source Language</label><select id="multiSourceLang"><option value="en">English</option><option value="zh">Chinese</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="fr">French</option><option value="de">German</option><option value="es">Spanish</option><option value="it">Italian</option><option value="pt">Portuguese</option><option value="ru">Russian</option><option value="ar">Arabic</option></select></div><div class="form-group"><label for="multiText">Text to Translate</label><textarea id="multiText"></textarea></div><div class="form-group"><label>Target Languages</label><div id="targetLanguages"><label><input type="checkbox" value="zh" checked> Chinese</label><label><input type="checkbox" value="ja"> Japanese</label><label><input type="checkbox" value="ko"> Korean</label><label><input type="checkbox" value="fr"> French</label><label><input type="checkbox" value="de"> German</label><label><input type="checkbox" value="es"> Spanish</label><label><input type="checkbox" value="it"> Italian</label><label><input type="checkbox" value="pt"> Portuguese</label><label><input type="checkbox" value="ru"> Russian</label><label><input type="checkbox" value="ar"> Arabic</label></div></div><button class="btn" onclick="translateMultiple()">Translate to Selected Languages</button><div id="multiResult"></div></div>
</div></div>
<script>
const API_BASE_URL=window.location.origin;function showTab(n){document.querySelectorAll('.tab-content').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.getElementById(n).classList.add('active');event.target.classList.add('active')}function showError(id,msg){const e=document.getElementById(id);e.innerHTML=`<div class="result error"><div class="result-content">${msg}</div></div>`}function showLoading(id){const e=document.getElementById(id);e.innerHTML=`<div class="result"><div class="result-content">Processing...</div></div>`}function showTranslationResult(r){const e=document.getElementById('translationResult');if(r.error){e.innerHTML=`<div class="result error"><div class="result-content">${r.error}</div></div>`}else{e.innerHTML=`<div class="result"><div class="result-content">${r.translated_text}</div></div>`}}function showAnalysisResult(r){const e=document.getElementById('analysisResult');if(r.error){e.innerHTML=`<div class="result error"><div class="result-content">${r.error}</div></div>`}else{let c='';if(r.components&&r.components.length>0){c='<div class="grammar-components">';r.components.forEach(x=>{c+=`<div class="grammar-component" style="background-color:${x.color}">${x.component} (${x.type})</div>`});c+='</div>'}e.innerHTML=`<div class="result"><div class="result-content">${r.text}</div>${c}</div>`}}function showMultiTranslationResult(res){const e=document.getElementById('multiResult');let h='<div class="multi-translations">';const names={zh:'Chinese',ja:'Japanese',ko:'Korean',fr:'French',de:'German',es:'Spanish',it:'Italian',pt:'Portuguese',ru:'Russian',ar:'Arabic'};for(const [l,r]of Object.entries(res)){h+=`<div class="translation-card"><h4>${names[l]||l}</h4><div class="result-content">${r.error?`<span style='color:red;'>${r.error}</span>`:r.translated_text}</div></div>`}h+='</div>';e.innerHTML=h}async function translateText(){const t=document.getElementById('textToTranslate').value;const s=document.getElementById('sourceLang').value;const d=document.getElementById('targetLang').value;if(!t.trim()){showError('translationResult','Please enter text to translate');return}showLoading('translationResult');try{const r=await fetch(`${API_BASE_URL}/api/translateText`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:t,source_language:s,target_language:d})});const j=await r.json();showTranslationResult(j)}catch(e){showError('translationResult','Failed: '+e.message)}}async function analyzeGrammar(){const t=document.getElementById('textToAnalyze').value;const l=document.getElementById('analysisLang').value;if(!t.trim()){showError('analysisResult','Please enter text to analyze');return}showLoading('analysisResult');try{const r=await fetch(`${API_BASE_URL}/api/analyzeGrammar`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:t,language:l})});const j=await r.json();showAnalysisResult(j)}catch(e){showError('analysisResult','Failed: '+e.message)}}async function translateMultiple(){const t=document.getElementById('multiText').value;const s=document.getElementById('multiSourceLang').value;if(!t.trim()){showError('multiResult','Please enter text to translate');return}const cbs=document.querySelectorAll('#targetLanguages input[type="checkbox"]:checked');const targets=Array.from(cbs).map(cb=>cb.value);if(targets.length===0){showError('multiResult','Please select at least one target language');return}showLoading('multiResult');try{const r=await fetch(`${API_BASE_URL}/api/translateMultiple?text=${encodeURIComponent(t)}&source_language=${s}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(targets)});const j=await r.json();showMultiTranslationResult(j)}catch(e){showError('multiResult','Failed: '+e.message)}}
</script>
</body></html>
